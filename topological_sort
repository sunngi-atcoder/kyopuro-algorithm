#ãƒˆãƒ­ãƒã‚¸ã‚«ãƒ«ã‚½ãƒ¼ãƒˆ
#éš£æ¥ãƒªã‚¹ãƒˆã¨å…¥æ¬¡æ•°ãƒªã‚¹ãƒˆã‚’å…¥ã‚Œã‚‹
#Né ‚ç‚¹ã®å ´åˆã€è¾ºã®ç•ªå·ã¯0~N-1ã¾ã§ã‚’æƒ³å®š
#1~Nã®å ´åˆã¯å…¨éƒ¨ãƒã‚¤ãƒŠã‚¹1ã—ã¦ãšã‚‰ã—ã¦ğŸ™
from collections import deque
def topological_sort(G, into_num):
    #å…¥ã£ã¦ãã‚‹æœ‰å‘è¾ºã‚’æŒãŸãªã„ãƒãƒ¼ãƒ‰ã‚’åˆ—æŒ™
    q = deque()
    #V: é ‚ç‚¹æ•°
    V=len(G)
    for i in range(V):
        if into_num[i]==0:
            q.append(i)
    ans = []
    while q:
        v = q.popleft()
        ans.append(v)
        for adj in G[v]:
            into_num[adj] -= 1
            if into_num[adj]==0:
                q.append(adj)
    return ans


#æœ‰å‘ã‚°ãƒ©ãƒ•ã§é–‰è·¯æ¤œå‡ºãŒã§ãã‚‹
G = [[1,2], [2], []]
into_num = [0,1,2]
ans = topological_sort(G, into_num) #ãƒˆãƒãƒ­ã‚¸ã‚«ãƒ«ã‚½ãƒ¼ãƒˆ
#[0, 3, 1, 4, 5, 2]
if len(ans)==len(G):
    print('é–‰è·¯ãªã—') #åŒã˜é ‚ç‚¹æ•°ãªã‚‰é–‰è·¯ãªã—
else:
    print('é–‰è·¯æœ‰ã‚Š') #é ‚ç‚¹æ•°ãŒç•°ãªã‚‹ã¨é–‰è·¯ãŒå­˜åœ¨ã—ã¦ã„ã‚‹
